{"ast":null,"code":"import { Cell } from '../dia/Cell.mjs';\nimport { isFunction, isString, toArray } from './util.mjs';\nexport const wrapWith = function (object, methods, wrapper) {\n  if (isString(wrapper)) {\n    if (!wrappers[wrapper]) {\n      throw new Error('Unknown wrapper: \"' + wrapper + '\"');\n    }\n    wrapper = wrappers[wrapper];\n  }\n  if (!isFunction(wrapper)) {\n    throw new Error('Wrapper must be a function.');\n  }\n  toArray(methods).forEach(function (method) {\n    object[method] = wrapper(object[method]);\n  });\n};\nexport const wrappers = {\n  cells: function (fn) {\n    return function () {\n      var args = Array.from(arguments);\n      var n = args.length;\n      var cells = n > 0 && args[0] || [];\n      var opt = n > 1 && args[n - 1] || {};\n      if (!Array.isArray(cells)) {\n        if (opt instanceof Cell) {\n          cells = args;\n        } else if (cells instanceof Cell) {\n          if (args.length > 1) {\n            args.pop();\n          }\n          cells = args;\n        }\n      }\n      if (opt instanceof Cell) {\n        opt = {};\n      }\n      return fn.call(this, cells, opt);\n    };\n  }\n};","map":{"version":3,"names":["Cell","isFunction","isString","toArray","wrapWith","object","methods","wrapper","wrappers","Error","forEach","method","cells","fn","args","Array","from","arguments","n","length","opt","isArray","pop","call"],"sources":["/Users/guankaiyuan/ReactTs/node_modules/.pnpm/@joint+core@4.0.1/node_modules/@joint/core/src/util/wrappers.mjs"],"sourcesContent":["import { Cell } from '../dia/Cell.mjs';\nimport { isFunction, isString, toArray } from './util.mjs';\n\nexport const wrapWith = function(object, methods, wrapper) {\n\n    if (isString(wrapper)) {\n\n        if (!wrappers[wrapper]) {\n            throw new Error('Unknown wrapper: \"' + wrapper + '\"');\n        }\n\n        wrapper = wrappers[wrapper];\n    }\n\n    if (!isFunction(wrapper)) {\n        throw new Error('Wrapper must be a function.');\n    }\n\n    toArray(methods).forEach(function(method) {\n        object[method] = wrapper(object[method]);\n    });\n};\n\nexport const wrappers = {\n\n    cells: function(fn) {\n\n        return function() {\n\n            var args = Array.from(arguments);\n            var n = args.length;\n            var cells = n > 0 && args[0] || [];\n            var opt = n > 1 && args[n - 1] || {};\n\n            if (!Array.isArray(cells)) {\n\n                if (opt instanceof Cell) {\n                    cells = args;\n                } else if (cells instanceof Cell) {\n                    if (args.length > 1) {\n                        args.pop();\n                    }\n                    cells = args;\n                }\n            }\n\n            if (opt instanceof Cell) {\n                opt = {};\n            }\n\n            return fn.call(this, cells, opt);\n        };\n    }\n\n};\n\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,iBAAiB;AACtC,SAASC,UAAU,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,YAAY;AAE1D,OAAO,MAAMC,QAAQ,GAAG,SAAAA,CAASC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAE;EAEvD,IAAIL,QAAQ,CAACK,OAAO,CAAC,EAAE;IAEnB,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC,EAAE;MACpB,MAAM,IAAIE,KAAK,CAAC,oBAAoB,GAAGF,OAAO,GAAG,GAAG,CAAC;IACzD;IAEAA,OAAO,GAAGC,QAAQ,CAACD,OAAO,CAAC;EAC/B;EAEA,IAAI,CAACN,UAAU,CAACM,OAAO,CAAC,EAAE;IACtB,MAAM,IAAIE,KAAK,CAAC,6BAA6B,CAAC;EAClD;EAEAN,OAAO,CAACG,OAAO,CAAC,CAACI,OAAO,CAAC,UAASC,MAAM,EAAE;IACtCN,MAAM,CAACM,MAAM,CAAC,GAAGJ,OAAO,CAACF,MAAM,CAACM,MAAM,CAAC,CAAC;EAC5C,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMH,QAAQ,GAAG;EAEpBI,KAAK,EAAE,SAAAA,CAASC,EAAE,EAAE;IAEhB,OAAO,YAAW;MAEd,IAAIC,IAAI,GAAGC,KAAK,CAACC,IAAI,CAACC,SAAS,CAAC;MAChC,IAAIC,CAAC,GAAGJ,IAAI,CAACK,MAAM;MACnB,IAAIP,KAAK,GAAGM,CAAC,GAAG,CAAC,IAAIJ,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE;MAClC,IAAIM,GAAG,GAAGF,CAAC,GAAG,CAAC,IAAIJ,IAAI,CAACI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;MAEpC,IAAI,CAACH,KAAK,CAACM,OAAO,CAACT,KAAK,CAAC,EAAE;QAEvB,IAAIQ,GAAG,YAAYpB,IAAI,EAAE;UACrBY,KAAK,GAAGE,IAAI;QAChB,CAAC,MAAM,IAAIF,KAAK,YAAYZ,IAAI,EAAE;UAC9B,IAAIc,IAAI,CAACK,MAAM,GAAG,CAAC,EAAE;YACjBL,IAAI,CAACQ,GAAG,CAAC,CAAC;UACd;UACAV,KAAK,GAAGE,IAAI;QAChB;MACJ;MAEA,IAAIM,GAAG,YAAYpB,IAAI,EAAE;QACrBoB,GAAG,GAAG,CAAC,CAAC;MACZ;MAEA,OAAOP,EAAE,CAACU,IAAI,CAAC,IAAI,EAAEX,KAAK,EAAEQ,GAAG,CAAC;IACpC,CAAC;EACL;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}