{"ast":null,"code":"// @return the bearing (cardinal direction) of the line. For example N, W, or SE.\n// @returns {String} One of the following bearings : NE, E, SE, S, SW, W, NW, N.\nimport { toDeg, toRad } from './geometry.helpers.mjs';\nconst {\n  cos,\n  sin,\n  atan2\n} = Math;\nexport const bearing = function (p, q) {\n  var lat1 = toRad(p.y);\n  var lat2 = toRad(q.y);\n  var lon1 = p.x;\n  var lon2 = q.x;\n  var dLon = toRad(lon2 - lon1);\n  var y = sin(dLon) * cos(lat2);\n  var x = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(dLon);\n  var brng = toDeg(atan2(y, x));\n  var bearings = ['NE', 'E', 'SE', 'S', 'SW', 'W', 'NW', 'N'];\n  var index = brng - 22.5;\n  if (index < 0) index += 360;\n  index = parseInt(index / 45);\n  return bearings[index];\n};","map":{"version":3,"names":["toDeg","toRad","cos","sin","atan2","Math","bearing","p","q","lat1","y","lat2","lon1","x","lon2","dLon","brng","bearings","index","parseInt"],"sources":["/Users/guankaiyuan/ReactTs/node_modules/.pnpm/@joint+core@4.0.1/node_modules/@joint/core/src/g/line.bearing.mjs"],"sourcesContent":["// @return the bearing (cardinal direction) of the line. For example N, W, or SE.\n// @returns {String} One of the following bearings : NE, E, SE, S, SW, W, NW, N.\nimport { toDeg, toRad } from './geometry.helpers.mjs';\n\nconst {\n    cos,\n    sin,\n    atan2\n} = Math;\n\nexport const bearing = function(p, q) {\n\n    var lat1 = toRad(p.y);\n    var lat2 = toRad(q.y);\n    var lon1 = p.x;\n    var lon2 = q.x;\n    var dLon = toRad(lon2 - lon1);\n    var y = sin(dLon) * cos(lat2);\n    var x = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(dLon);\n    var brng = toDeg(atan2(y, x));\n\n    var bearings = ['NE', 'E', 'SE', 'S', 'SW', 'W', 'NW', 'N'];\n\n    var index = brng - 22.5;\n    if (index < 0)\n        index += 360;\n    index = parseInt(index / 45);\n\n    return bearings[index];\n};\n"],"mappings":"AAAA;AACA;AACA,SAASA,KAAK,EAAEC,KAAK,QAAQ,wBAAwB;AAErD,MAAM;EACFC,GAAG;EACHC,GAAG;EACHC;AACJ,CAAC,GAAGC,IAAI;AAER,OAAO,MAAMC,OAAO,GAAG,SAAAA,CAASC,CAAC,EAAEC,CAAC,EAAE;EAElC,IAAIC,IAAI,GAAGR,KAAK,CAACM,CAAC,CAACG,CAAC,CAAC;EACrB,IAAIC,IAAI,GAAGV,KAAK,CAACO,CAAC,CAACE,CAAC,CAAC;EACrB,IAAIE,IAAI,GAAGL,CAAC,CAACM,CAAC;EACd,IAAIC,IAAI,GAAGN,CAAC,CAACK,CAAC;EACd,IAAIE,IAAI,GAAGd,KAAK,CAACa,IAAI,GAAGF,IAAI,CAAC;EAC7B,IAAIF,CAAC,GAAGP,GAAG,CAACY,IAAI,CAAC,GAAGb,GAAG,CAACS,IAAI,CAAC;EAC7B,IAAIE,CAAC,GAAGX,GAAG,CAACO,IAAI,CAAC,GAAGN,GAAG,CAACQ,IAAI,CAAC,GAAGR,GAAG,CAACM,IAAI,CAAC,GAAGP,GAAG,CAACS,IAAI,CAAC,GAAGT,GAAG,CAACa,IAAI,CAAC;EACjE,IAAIC,IAAI,GAAGhB,KAAK,CAACI,KAAK,CAACM,CAAC,EAAEG,CAAC,CAAC,CAAC;EAE7B,IAAII,QAAQ,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC;EAE3D,IAAIC,KAAK,GAAGF,IAAI,GAAG,IAAI;EACvB,IAAIE,KAAK,GAAG,CAAC,EACTA,KAAK,IAAI,GAAG;EAChBA,KAAK,GAAGC,QAAQ,CAACD,KAAK,GAAG,EAAE,CAAC;EAE5B,OAAOD,QAAQ,CAACC,KAAK,CAAC;AAC1B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}