{"ast":null,"code":"import * as util from '../util/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getViewBBox } from './helpers.mjs';\nexport const Boundary = ToolView.extend({\n  name: 'boundary',\n  tagName: 'rect',\n  options: {\n    padding: 10,\n    useModelGeometry: false\n  },\n  attributes: {\n    'fill': 'none',\n    'stroke': '#33334F',\n    'stroke-width': .5,\n    'stroke-dasharray': '5, 5',\n    'pointer-events': 'none'\n  },\n  onRender: function () {\n    this.update();\n  },\n  update: function () {\n    const {\n      relatedView: view,\n      options,\n      vel\n    } = this;\n    const {\n      useModelGeometry,\n      rotate\n    } = options;\n    const padding = util.normalizeSides(options.padding);\n    let bbox = getViewBBox(view, useModelGeometry).moveAndExpand({\n      x: -padding.left,\n      y: -padding.top,\n      width: padding.left + padding.right,\n      height: padding.top + padding.bottom\n    });\n    var model = view.model;\n    if (model.isElement()) {\n      var angle = model.angle();\n      if (angle) {\n        if (rotate) {\n          var origin = model.getBBox().center();\n          vel.rotate(angle, origin.x, origin.y, {\n            absolute: true\n          });\n        } else {\n          bbox = bbox.bbox(angle);\n        }\n      }\n    }\n    vel.attr(bbox.toJSON());\n    return this;\n  }\n});","map":{"version":3,"names":["util","ToolView","getViewBBox","Boundary","extend","name","tagName","options","padding","useModelGeometry","attributes","onRender","update","relatedView","view","vel","rotate","normalizeSides","bbox","moveAndExpand","x","left","y","top","width","right","height","bottom","model","isElement","angle","origin","getBBox","center","absolute","attr","toJSON"],"sources":["/Users/guankaiyuan/ReactTs/node_modules/.pnpm/@joint+core@4.0.1/node_modules/@joint/core/src/linkTools/Boundary.mjs"],"sourcesContent":["\nimport * as util from '../util/index.mjs';\nimport { ToolView } from '../dia/ToolView.mjs';\nimport { getViewBBox } from './helpers.mjs';\n\nexport const Boundary = ToolView.extend({\n    name: 'boundary',\n    tagName: 'rect',\n    options: {\n        padding: 10,\n        useModelGeometry: false,\n    },\n    attributes: {\n        'fill': 'none',\n        'stroke': '#33334F',\n        'stroke-width': .5,\n        'stroke-dasharray': '5, 5',\n        'pointer-events': 'none'\n    },\n    onRender: function() {\n        this.update();\n    },\n    update: function() {\n        const { relatedView: view, options, vel } = this;\n        const { useModelGeometry, rotate } = options;\n        const padding = util.normalizeSides(options.padding);\n        let bbox = getViewBBox(view, useModelGeometry).moveAndExpand({\n            x: -padding.left,\n            y: -padding.top,\n            width: padding.left + padding.right,\n            height: padding.top + padding.bottom\n        });\n        var model = view.model;\n        if (model.isElement()) {\n            var angle = model.angle();\n            if (angle) {\n                if (rotate) {\n                    var origin = model.getBBox().center();\n                    vel.rotate(angle, origin.x, origin.y, { absolute: true });\n                } else {\n                    bbox = bbox.bbox(angle);\n                }\n            }\n        }\n        vel.attr(bbox.toJSON());\n        return this;\n    }\n});\n"],"mappings":"AACA,OAAO,KAAKA,IAAI,MAAM,mBAAmB;AACzC,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,SAASC,WAAW,QAAQ,eAAe;AAE3C,OAAO,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,MAAM,CAAC;EACpCC,IAAI,EAAE,UAAU;EAChBC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;IACLC,OAAO,EAAE,EAAE;IACXC,gBAAgB,EAAE;EACtB,CAAC;EACDC,UAAU,EAAE;IACR,MAAM,EAAE,MAAM;IACd,QAAQ,EAAE,SAAS;IACnB,cAAc,EAAE,EAAE;IAClB,kBAAkB,EAAE,MAAM;IAC1B,gBAAgB,EAAE;EACtB,CAAC;EACDC,QAAQ,EAAE,SAAAA,CAAA,EAAW;IACjB,IAAI,CAACC,MAAM,CAAC,CAAC;EACjB,CAAC;EACDA,MAAM,EAAE,SAAAA,CAAA,EAAW;IACf,MAAM;MAAEC,WAAW,EAAEC,IAAI;MAAEP,OAAO;MAAEQ;IAAI,CAAC,GAAG,IAAI;IAChD,MAAM;MAAEN,gBAAgB;MAAEO;IAAO,CAAC,GAAGT,OAAO;IAC5C,MAAMC,OAAO,GAAGR,IAAI,CAACiB,cAAc,CAACV,OAAO,CAACC,OAAO,CAAC;IACpD,IAAIU,IAAI,GAAGhB,WAAW,CAACY,IAAI,EAAEL,gBAAgB,CAAC,CAACU,aAAa,CAAC;MACzDC,CAAC,EAAE,CAACZ,OAAO,CAACa,IAAI;MAChBC,CAAC,EAAE,CAACd,OAAO,CAACe,GAAG;MACfC,KAAK,EAAEhB,OAAO,CAACa,IAAI,GAAGb,OAAO,CAACiB,KAAK;MACnCC,MAAM,EAAElB,OAAO,CAACe,GAAG,GAAGf,OAAO,CAACmB;IAClC,CAAC,CAAC;IACF,IAAIC,KAAK,GAAGd,IAAI,CAACc,KAAK;IACtB,IAAIA,KAAK,CAACC,SAAS,CAAC,CAAC,EAAE;MACnB,IAAIC,KAAK,GAAGF,KAAK,CAACE,KAAK,CAAC,CAAC;MACzB,IAAIA,KAAK,EAAE;QACP,IAAId,MAAM,EAAE;UACR,IAAIe,MAAM,GAAGH,KAAK,CAACI,OAAO,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;UACrClB,GAAG,CAACC,MAAM,CAACc,KAAK,EAAEC,MAAM,CAACX,CAAC,EAAEW,MAAM,CAACT,CAAC,EAAE;YAAEY,QAAQ,EAAE;UAAK,CAAC,CAAC;QAC7D,CAAC,MAAM;UACHhB,IAAI,GAAGA,IAAI,CAACA,IAAI,CAACY,KAAK,CAAC;QAC3B;MACJ;IACJ;IACAf,GAAG,CAACoB,IAAI,CAACjB,IAAI,CAACkB,MAAM,CAAC,CAAC,CAAC;IACvB,OAAO,IAAI;EACf;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}