{"ast":null,"code":"/*! JointJS+ v4.0.0 - HTML5 Diagramming Framework - TRIAL VERSION\n\nCopyright (c) 2024 client IO\n\n 2024-02-18 \n\n\nThis Source Code Form is subject to the terms of the JointJS+ Trial License\n, v. 2.0. If a copy of the JointJS+ License was not distributed with this\nfile, You can obtain one at https://www.jointjs.com/license\n or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/\n\nimport { Subject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { mvc } from '@joint/plus';\nexport class EventBusService {\n  constructor() {\n    this.on = void 0;\n    this.off = void 0;\n    this.trigger = void 0;\n    this.bind = void 0;\n    this.unbind = void 0;\n    this.once = void 0;\n    this.listenTo = void 0;\n    this.listenToOnce = void 0;\n    this.stopListening = void 0;\n    this._events = new Subject();\n    Object.assign(this, mvc.Events);\n  }\n  events() {\n    return this._events.asObservable();\n  }\n  emit(eventName, value) {\n    this._events.next({\n      name: eventName,\n      value: value\n    });\n  }\n  subscribe(eventName, callback) {\n    return this._events.pipe(filter(e => e.name === eventName), map(e => e.value)).subscribe(callback);\n  }\n}","map":{"version":3,"names":["Subject","filter","map","mvc","EventBusService","constructor","on","off","trigger","bind","unbind","once","listenTo","listenToOnce","stopListening","_events","Object","assign","Events","events","asObservable","emit","eventName","value","next","name","subscribe","callback","pipe","e"],"sources":["/Users/guankaiyuan/ReactTs/src/services/event-bus.service.ts"],"sourcesContent":["/*! JointJS+ v4.0.0 - HTML5 Diagramming Framework - TRIAL VERSION\n\nCopyright (c) 2024 client IO\n\n 2024-02-18 \n\n\nThis Source Code Form is subject to the terms of the JointJS+ Trial License\n, v. 2.0. If a copy of the JointJS+ License was not distributed with this\nfile, You can obtain one at https://www.jointjs.com/license\n or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/\n\n\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { mvc } from '@joint/plus';\n\ninterface SharedEvent {\n    name: string;\n    value: any;\n}\n\nexport class EventBusService implements mvc.Events  {\n\n    on: mvc.Events_On<EventBusService>;\n    off: mvc.Events_Off<EventBusService>;\n    trigger: mvc.Events_Trigger<EventBusService>;\n    bind: mvc.Events_On<EventBusService>;\n    unbind: mvc.Events_Off<EventBusService>;\n\n    once: mvc.Events_On<EventBusService>;\n    listenTo: mvc.Events_Listen<EventBusService>;\n    listenToOnce: mvc.Events_Listen<EventBusService>;\n    stopListening: mvc.Events_Stop<EventBusService>;\n\n    constructor() {\n        Object.assign(this, mvc.Events);\n    }\n\n    private _events = new Subject<SharedEvent>();\n\n    events(): Observable<SharedEvent> {\n        return this._events.asObservable();\n    }\n\n    emit(eventName: string, value?: any): void {\n        this._events.next({ name: eventName, value: value });\n    }\n\n    subscribe(eventName: string, callback: any): Subscription {\n        return this._events.pipe(\n            filter(e => e.name === eventName),\n            map(e => e.value)\n        ).subscribe(callback);\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAAqBA,OAAO,QAAsB,MAAM;AACxD,SAASC,MAAM,EAAEC,GAAG,QAAQ,gBAAgB;AAC5C,SAASC,GAAG,QAAQ,aAAa;AAOjC,OAAO,MAAMC,eAAe,CAAwB;EAahDC,WAAWA,CAAA,EAAG;IAAA,KAXdC,EAAE;IAAA,KACFC,GAAG;IAAA,KACHC,OAAO;IAAA,KACPC,IAAI;IAAA,KACJC,MAAM;IAAA,KAENC,IAAI;IAAA,KACJC,QAAQ;IAAA,KACRC,YAAY;IAAA,KACZC,aAAa;IAAA,KAMLC,OAAO,GAAG,IAAIf,OAAO,CAAc,CAAC;IAHxCgB,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEd,GAAG,CAACe,MAAM,CAAC;EACnC;EAIAC,MAAMA,CAAA,EAA4B;IAC9B,OAAO,IAAI,CAACJ,OAAO,CAACK,YAAY,CAAC,CAAC;EACtC;EAEAC,IAAIA,CAACC,SAAiB,EAAEC,KAAW,EAAQ;IACvC,IAAI,CAACR,OAAO,CAACS,IAAI,CAAC;MAAEC,IAAI,EAAEH,SAAS;MAAEC,KAAK,EAAEA;IAAM,CAAC,CAAC;EACxD;EAEAG,SAASA,CAACJ,SAAiB,EAAEK,QAAa,EAAgB;IACtD,OAAO,IAAI,CAACZ,OAAO,CAACa,IAAI,CACpB3B,MAAM,CAAC4B,CAAC,IAAIA,CAAC,CAACJ,IAAI,KAAKH,SAAS,CAAC,EACjCpB,GAAG,CAAC2B,CAAC,IAAIA,CAAC,CAACN,KAAK,CACpB,CAAC,CAACG,SAAS,CAACC,QAAQ,CAAC;EACzB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}