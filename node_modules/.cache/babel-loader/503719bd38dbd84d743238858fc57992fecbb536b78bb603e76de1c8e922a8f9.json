{"ast":null,"code":"export const Event = function (src, props) {\n  // Allow instantiation without the 'new' keyword\n  if (!(this instanceof Event)) {\n    return new Event(src, props);\n  }\n\n  // Event object\n  if (src && src.type) {\n    this.originalEvent = src;\n    this.type = src.type;\n\n    // Events bubbling up the document may have been marked as prevented\n    // by a handler lower down the tree; reflect the correct value.\n    this.isDefaultPrevented = src.defaultPrevented ? returnTrue : returnFalse;\n\n    // Create target properties\n    this.target = src.target;\n    this.currentTarget = src.currentTarget;\n    this.relatedTarget = src.relatedTarget;\n\n    // Event type\n  } else {\n    this.type = src;\n  }\n\n  // Put explicitly provided properties onto the event object\n  if (props) {\n    Object.assign(this, props);\n  }\n\n  // Create a timestamp if incoming event doesn't have one\n  this.timeStamp = src && src.timeStamp || Date.now();\n\n  // Mark it as fixed\n  this.envelope = true;\n};\n\n// $.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\nEvent.prototype = {\n  constructor: Event,\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse,\n  preventDefault: function () {\n    const evt = this.originalEvent;\n    this.isDefaultPrevented = returnTrue;\n    if (evt) {\n      evt.preventDefault();\n    }\n  },\n  stopPropagation: function () {\n    const evt = this.originalEvent;\n    this.isPropagationStopped = returnTrue;\n    if (evt) {\n      evt.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function () {\n    const evt = this.originalEvent;\n    this.isImmediatePropagationStopped = returnTrue;\n    if (evt) {\n      evt.stopImmediatePropagation();\n    }\n    this.stopPropagation();\n  }\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\n['altKey', 'bubbles', 'cancelable', 'changedTouches', 'ctrlKey', 'detail', 'eventPhase', 'metaKey', 'pageX', 'pageY', 'shiftKey', 'view', 'char', 'code', 'charCode', 'key', 'keyCode', 'button', 'buttons', 'clientX', 'clientY', 'offsetX', 'offsetY', 'pointerId', 'pointerType', 'screenX', 'screenY', 'targetTouches', 'toElement', 'touches', 'which'].forEach(name => addProp(name));\nfunction addProp(name) {\n  Object.defineProperty(Event.prototype, name, {\n    enumerable: true,\n    configurable: true,\n    get: function () {\n      return this.originalEvent ? this.originalEvent[name] : undefined;\n    },\n    set: function (value) {\n      Object.defineProperty(this, name, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    }\n  });\n}\nfunction returnTrue() {\n  return true;\n}\nfunction returnFalse() {\n  return false;\n}","map":{"version":3,"names":["Event","src","props","type","originalEvent","isDefaultPrevented","defaultPrevented","returnTrue","returnFalse","target","currentTarget","relatedTarget","Object","assign","timeStamp","Date","now","envelope","prototype","constructor","isPropagationStopped","isImmediatePropagationStopped","preventDefault","evt","stopPropagation","stopImmediatePropagation","forEach","name","addProp","defineProperty","enumerable","configurable","get","undefined","set","value","writable"],"sources":["/Users/guankaiyuan/ReactTs/node_modules/.pnpm/@joint+core@4.0.1/node_modules/@joint/core/src/mvc/Dom/Event.mjs"],"sourcesContent":["export const Event = function(src, props) {\n    // Allow instantiation without the 'new' keyword\n    if (!(this instanceof Event)) {\n        return new Event(src, props);\n    }\n\n    // Event object\n    if (src && src.type) {\n        this.originalEvent = src;\n        this.type = src.type;\n\n        // Events bubbling up the document may have been marked as prevented\n        // by a handler lower down the tree; reflect the correct value.\n        this.isDefaultPrevented = src.defaultPrevented\n            ? returnTrue\n            : returnFalse;\n\n        // Create target properties\n        this.target = src.target;\n        this.currentTarget = src.currentTarget;\n        this.relatedTarget = src.relatedTarget;\n\n        // Event type\n    } else {\n        this.type = src;\n    }\n\n    // Put explicitly provided properties onto the event object\n    if (props) {\n        Object.assign(this, props);\n    }\n\n    // Create a timestamp if incoming event doesn't have one\n    this.timeStamp = (src && src.timeStamp) || Date.now();\n\n    // Mark it as fixed\n    this.envelope = true;\n};\n\n// $.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\nEvent.prototype = {\n    constructor: Event,\n    isDefaultPrevented: returnFalse,\n    isPropagationStopped: returnFalse,\n    isImmediatePropagationStopped: returnFalse,\n    preventDefault: function() {\n        const evt = this.originalEvent;\n        this.isDefaultPrevented = returnTrue;\n        if (evt) {\n            evt.preventDefault();\n        }\n    },\n    stopPropagation: function() {\n        const evt = this.originalEvent;\n        this.isPropagationStopped = returnTrue;\n        if (evt) {\n            evt.stopPropagation();\n        }\n    },\n    stopImmediatePropagation: function() {\n        const evt = this.originalEvent;\n        this.isImmediatePropagationStopped = returnTrue;\n        if (evt) {\n            evt.stopImmediatePropagation();\n        }\n        this.stopPropagation();\n    },\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\n[\n    'altKey',\n    'bubbles',\n    'cancelable',\n    'changedTouches',\n    'ctrlKey',\n    'detail',\n    'eventPhase',\n    'metaKey',\n    'pageX',\n    'pageY',\n    'shiftKey',\n    'view',\n    'char',\n    'code',\n    'charCode',\n    'key',\n    'keyCode',\n    'button',\n    'buttons',\n    'clientX',\n    'clientY',\n    'offsetX',\n    'offsetY',\n    'pointerId',\n    'pointerType',\n    'screenX',\n    'screenY',\n    'targetTouches',\n    'toElement',\n    'touches',\n    'which',\n].forEach((name) => addProp(name));\n\nfunction addProp(name) {\n    Object.defineProperty(Event.prototype, name, {\n        enumerable: true,\n        configurable: true,\n        get: function() {\n            return this.originalEvent ? this.originalEvent[name] : undefined;\n        },\n        set: function(value) {\n            Object.defineProperty(this, name, {\n                enumerable: true,\n                configurable: true,\n                writable: true,\n                value: value,\n            });\n        },\n    });\n}\n\nfunction returnTrue() {\n    return true;\n}\n\nfunction returnFalse() {\n    return false;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}