{"ast":null,"code":"/*! JointJS+ v4.0.0 - HTML5 Diagramming Framework - TRIAL VERSION\n   版权声明和版本信息 */\n\nimport { dia, elementTools, linkTools } from '@joint/plus';\n// 导入 JointJS+ 的核心库和工具\n\nimport { RemoveTool } from './remove.tool';\n// 导入自定义的 RemoveTool 工具\n\n/**\n * 向单元格视图添加工具\n * @param cellView 单元格视图对象\n */\nexport function addCellTools(cellView) {\n  if (cellView.model.isLink()) {\n    // 如果是连接线，则添加连接线工具\n    addLinkTools(cellView);\n  } else {\n    // 如果是元素，则添加元素工具\n    addElementTools(cellView);\n  }\n}\n\n/**\n * 向元素视图添加工具\n * @param elementView 元素视图对象\n */\nexport function addElementTools(elementView) {\n  const element = elementView.model;\n  const padding = element.getBoundaryPadding();\n  // 获取元素边界的内边距\n  const toolsView = new dia.ToolsView({\n    tools: [\n    // 添加边界工具，用于显示元素的边界\n    new elementTools.Boundary({\n      useModelGeometry: true,\n      padding\n    }),\n    // 添加自定义的删除工具\n    new RemoveTool({\n      x: '100%',\n      offset: {\n        x: padding.right,\n        y: -padding.top\n      }\n    })]\n  });\n  // 创建工具视图，并添加到元素视图中\n  elementView.addTools(toolsView);\n}\n\n/**\n * 向连接线视图添加工具\n * @param linkView 连接线视图对象\n */\nexport function addLinkTools(linkView) {\n  const toolsView = new dia.ToolsView({\n    tools: [\n    // 添加顶点工具，用于编辑连接线的顶点\n    new linkTools.Vertices(),\n    // 添加起始箭头工具\n    new linkTools.SourceArrowhead(),\n    // 添加目标箭头工具\n    new linkTools.TargetArrowhead(),\n    // 添加边界工具，用于显示连接线的边界\n    new linkTools.Boundary({\n      padding: 15\n    }),\n    // 添加自定义的删除工具\n    new RemoveTool({\n      offset: -20,\n      distance: 40\n    })]\n  });\n  // 创建工具视图，并添加到连接线视图中\n  linkView.addTools(toolsView);\n}","map":{"version":3,"names":["dia","elementTools","linkTools","RemoveTool","addCellTools","cellView","model","isLink","addLinkTools","addElementTools","elementView","element","padding","getBoundaryPadding","toolsView","ToolsView","tools","Boundary","useModelGeometry","x","offset","right","y","top","addTools","linkView","Vertices","SourceArrowhead","TargetArrowhead","distance"],"sources":["/Users/guankaiyuan/ReactTs/src/joint-plus/tools/index.ts"],"sourcesContent":["/*! JointJS+ v4.0.0 - HTML5 Diagramming Framework - TRIAL VERSION\n   版权声明和版本信息 */\n\nimport { dia, elementTools, linkTools, shapes } from '@joint/plus';\n// 导入 JointJS+ 的核心库和工具\n\nimport { RemoveTool } from './remove.tool';\n// 导入自定义的 RemoveTool 工具\n\n/**\n * 向单元格视图添加工具\n * @param cellView 单元格视图对象\n */\nexport function addCellTools(cellView: dia.CellView): void {\n    if (cellView.model.isLink()) {\n        // 如果是连接线，则添加连接线工具\n        addLinkTools(cellView as dia.LinkView);\n    } else {\n        // 如果是元素，则添加元素工具\n        addElementTools(cellView as dia.ElementView);\n    }\n}\n\n/**\n * 向元素视图添加工具\n * @param elementView 元素视图对象\n */\nexport function addElementTools(elementView: dia.ElementView): void {\n    const element = elementView.model as shapes.app.Base;\n    const padding = element.getBoundaryPadding();\n    // 获取元素边界的内边距\n    const toolsView = new dia.ToolsView({\n        tools: [\n            // 添加边界工具，用于显示元素的边界\n            new elementTools.Boundary({\n                useModelGeometry: true,\n                padding\n            }),\n            // 添加自定义的删除工具\n            new RemoveTool({\n                x: '100%',\n                offset: {\n                    x: padding.right,\n                    y: -padding.top\n                }\n            })\n        ]\n    });\n    // 创建工具视图，并添加到元素视图中\n    elementView.addTools(toolsView);\n}\n\n/**\n * 向连接线视图添加工具\n * @param linkView 连接线视图对象\n */\nexport function addLinkTools(linkView: dia.LinkView): void {\n    const toolsView = new dia.ToolsView({\n        tools: [\n            // 添加顶点工具，用于编辑连接线的顶点\n            new linkTools.Vertices(),\n            // 添加起始箭头工具\n            new linkTools.SourceArrowhead(),\n            // 添加目标箭头工具\n            new linkTools.TargetArrowhead(),\n            // 添加边界工具，用于显示连接线的边界\n            new linkTools.Boundary({ padding: 15 }),\n            // 添加自定义的删除工具\n            new RemoveTool({ offset: -20, distance: 40 })\n        ]\n    });\n    // 创建工具视图，并添加到连接线视图中\n    linkView.addTools(toolsView);\n}\n"],"mappings":"AAAA;AACA;;AAEA,SAASA,GAAG,EAAEC,YAAY,EAAEC,SAAS,QAAgB,aAAa;AAClE;;AAEA,SAASC,UAAU,QAAQ,eAAe;AAC1C;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAACC,QAAsB,EAAQ;EACvD,IAAIA,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC,CAAC,EAAE;IACzB;IACAC,YAAY,CAACH,QAAwB,CAAC;EAC1C,CAAC,MAAM;IACH;IACAI,eAAe,CAACJ,QAA2B,CAAC;EAChD;AACJ;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASI,eAAeA,CAACC,WAA4B,EAAQ;EAChE,MAAMC,OAAO,GAAGD,WAAW,CAACJ,KAAwB;EACpD,MAAMM,OAAO,GAAGD,OAAO,CAACE,kBAAkB,CAAC,CAAC;EAC5C;EACA,MAAMC,SAAS,GAAG,IAAId,GAAG,CAACe,SAAS,CAAC;IAChCC,KAAK,EAAE;IACH;IACA,IAAIf,YAAY,CAACgB,QAAQ,CAAC;MACtBC,gBAAgB,EAAE,IAAI;MACtBN;IACJ,CAAC,CAAC;IACF;IACA,IAAIT,UAAU,CAAC;MACXgB,CAAC,EAAE,MAAM;MACTC,MAAM,EAAE;QACJD,CAAC,EAAEP,OAAO,CAACS,KAAK;QAChBC,CAAC,EAAE,CAACV,OAAO,CAACW;MAChB;IACJ,CAAC,CAAC;EAEV,CAAC,CAAC;EACF;EACAb,WAAW,CAACc,QAAQ,CAACV,SAAS,CAAC;AACnC;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASN,YAAYA,CAACiB,QAAsB,EAAQ;EACvD,MAAMX,SAAS,GAAG,IAAId,GAAG,CAACe,SAAS,CAAC;IAChCC,KAAK,EAAE;IACH;IACA,IAAId,SAAS,CAACwB,QAAQ,CAAC,CAAC;IACxB;IACA,IAAIxB,SAAS,CAACyB,eAAe,CAAC,CAAC;IAC/B;IACA,IAAIzB,SAAS,CAAC0B,eAAe,CAAC,CAAC;IAC/B;IACA,IAAI1B,SAAS,CAACe,QAAQ,CAAC;MAAEL,OAAO,EAAE;IAAG,CAAC,CAAC;IACvC;IACA,IAAIT,UAAU,CAAC;MAAEiB,MAAM,EAAE,CAAC,EAAE;MAAES,QAAQ,EAAE;IAAG,CAAC,CAAC;EAErD,CAAC,CAAC;EACF;EACAJ,QAAQ,CAACD,QAAQ,CAACV,SAAS,CAAC;AAChC"},"metadata":{},"sourceType":"module","externalDependencies":[]}